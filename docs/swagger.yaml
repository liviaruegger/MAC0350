basePath: /
definitions:
  domain.Activity:
    properties:
      distance:
        description: Total distance in meters
        type: number
      duration:
        description: Duration of the activity in string format, e.g., "1h30m"
        type: string
      id:
        type: integer
      intervals:
        description: Breakdown of the swim into segments
        items:
          $ref: '#/definitions/domain.Interval'
        type: array
      laps:
        description: Number of pool laps
        type: integer
      location_type:
        allOf:
        - $ref: '#/definitions/domain.LocationType'
        description: '"pool" or "open_water"'
      notes:
        description: Optional notes
        type: string
      pool_size:
        description: Pool length in meters (0 if open water)
        type: number
      start:
        description: Start time of the activity
        type: string
      user_id:
        description: UserID is the ID of the user who performed the activity
        type: integer
    type: object
  domain.Interval:
    properties:
      activity_id:
        description: Foreign key to the swim activity/session
        type: integer
      distance:
        description: Distance in meters
        type: number
      duration:
        description: Duration of the interval in string format, e.g., "1h30m"
        type: string
      id:
        type: integer
      notes:
        description: Optional notes like "felt strong", "used fins"
        type: string
      start_time:
        description: Start time of the interval
        type: string
      stroke:
        allOf:
        - $ref: '#/definitions/domain.StrokeType'
        description: Type of swimming stroke
      type:
        allOf:
        - $ref: '#/definitions/domain.IntervalType'
        description: One of the predefined types
    type: object
  domain.IntervalType:
    enum:
    - swim
    - rest
    - drill
    - kick
    - pull
    - warmup
    - main_set
    - cooldown
    type: string
    x-enum-varnames:
    - IntervalSwim
    - IntervalRest
    - IntervalDrill
    - IntervalKick
    - IntervalPull
    - IntervalWarmUp
    - IntervalMainSet
    - IntervalCoolDown
  domain.LocationType:
    enum:
    - pool
    - open_water
    type: string
    x-enum-varnames:
    - LocationPool
    - LocationOpenWater
  domain.StrokeType:
    enum:
    - freestyle
    - backstroke
    - breaststroke
    - butterfly
    - medley
    - unknown
    type: string
    x-enum-varnames:
    - StrokeFreestyle
    - StrokeBackstroke
    - StrokeBreaststroke
    - StrokeButterfly
    - StrokeMedley
    - StrokeUnknown
  domain.User:
    properties:
      activities:
        items:
          $ref: '#/definitions/domain.Activity'
        type: array
      city:
        type: string
      email:
        type: string
      id:
        type: integer
      name:
        type: string
      phone:
        type: string
    type: object
  handler.ErrorResponse:
    properties:
      error:
        description: |-
          Error is a description of what went wrong.
          Example: Service error
        type: string
    type: object
host: localhost:8080
info:
  contact: {}
  description: This is an API for tracking swimming
  title: Swim Tracker API
  version: "1.0"
paths:
  /intervals:
    post:
      consumes:
      - application/json
      description: Creates an interval with the data provided in the request body
      parameters:
      - description: Interval data
        in: body
        name: interval
        required: true
        schema:
          $ref: '#/definitions/domain.Interval'
      produces:
      - application/json
      responses:
        "201":
          description: Interval successfully created
          schema:
            $ref: '#/definitions/domain.Interval'
        "400":
          description: Invalid input
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      summary: Create a new interval
      tags:
      - intervals
  /users:
    post:
      consumes:
      - application/json
      description: Creates a user with the data provided in the request body
      parameters:
      - description: User data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/domain.User'
      produces:
      - application/json
      responses:
        "201":
          description: User successfully created
          schema:
            $ref: '#/definitions/domain.User'
        "400":
          description: Invalid input
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      summary: Create a new user
      tags:
      - users
  /users/{id}:
    get:
      consumes:
      - application/json
      description: Returns the user data for the specified ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: User found
          schema:
            $ref: '#/definitions/domain.User'
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      summary: Get user by ID
      tags:
      - users
swagger: "2.0"
